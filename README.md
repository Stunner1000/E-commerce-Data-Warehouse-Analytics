# E-commerce Data Warehouse and Advanced Analytics Platform

## Project Overview

This project aims to build a comprehensive e-commerce data warehouse and advanced analytics platform. It includes designing and implementing a data model, developing ETL pipelines to load data, performing advanced SQL analytics, creating a Streamlit dashboard for interactive visualization, and developing a customer churn prediction module.

## Table of Contents

-   [Project Overview](#project-overview)
-   [Table of Contents](#table-of-contents)
-   [Features](#features)
-   [Data Model](#data-model)
-   [ETL Pipeline](#etl-pipeline)
-   [Advanced SQL Analytics](#advanced-sql-analytics)
-   [Streamlit Dashboard](#streamlit-dashboard)
-   [Customer Churn Prediction](#customer-churn-prediction)
-   [Setup and Installation](#setup-and-installation)
-   [Usage](#usage)
-   [Contributing](#contributing)
-   [License](#license)

## Features

-   **Data Warehouse**: Designed and implemented a star schema data model for e-commerce data.
-   **ETL**: Developed pipelines to extract, transform, and load synthetic data into the data warehouse.
-   **Advanced SQL Analytics**: Performed various analyses including:
    *   Customer Acquisition Cohort Analysis
    *   Customer Lifetime Value (CLV) Calculation
    *   Product Performance Analysis
    *   RFM Segmentation
-   **Streamlit Dashboard**: Built an interactive dashboard for visualizing key metrics and insights.
-   **Customer Churn Prediction**: Developed a machine learning model to predict customer churn.

## Data Model

The data warehouse follows a star schema, with a central `sales_fact` table connected to dimension tables: `customer_dimension`, `product_dimension`, and `time_dimension`.

-   **`customer_dimension`**: Stores information about customers.
    -   `customer_id` (Primary Key)
    -   `name`
    -   `email`
    -   `address`
    -   `city`
    -   `country`
    -   `signup_date`
-   **`product_dimension`**: Stores information about products.
    -   `product_id` (Primary Key)
    -   `product_name`
    -   `category`
    -   `price`
    -   `stock_quantity`
-   **`time_dimension`**: Stores date-related attributes.
    -   `date_key` (Primary Key, YYYYMMDD)
    -   `full_date`
    -   `day_of_week`
    -   `day_of_month`
    -   `day_of_year`
    -   `week_of_year`
    -   `month`
    -   `quarter`
    -   `year`
    -   `is_weekend`
-   **`sales_fact`**: Records individual sales transactions.
    -   `order_item_id` (Primary Key)
    -   `order_id`
    -   `customer_id` (Foreign Key to `customer_dimension`)
    -   `product_id` (Foreign Key to `product_dimension`)
    -   `date_key` (Foreign Key to `time_dimension`)
    -   `quantity`
    -   `price`
    -   `line_total`

## ETL Pipeline

The ETL pipeline involves reading data from simulated CSV files (`customers.csv`, `products.csv`, `orders.csv`, `order_items.csv`), performing necessary data type conversions and calculations (e.g., `date_key`, `line_total`), and loading the processed data into the SQLite database using SQLAlchemy and pandas.

## Advanced SQL Analytics

*(Describe the key SQL queries and the insights gained from them. You can include snippets of the SQL queries within markdown code blocks or explain their purpose and results.)*

Key SQL analytics performed include:

-   **Customer Acquisition Cohorts**: Analyzing customer sign-ups over time to understand acquisition trends.
-   **Customer Lifetime Value (CLV)**: Calculating the total revenue generated by each customer.
-   **Product Performance**: Analyzing product sales to identify top-performing products.
-   **RFM Segmentation**: Segmenting customers based on their Recency, Frequency, and Monetary values.

## Streamlit Dashboard

The Streamlit dashboard provides an interactive interface to explore the e-commerce data and the results of the advanced analytics. Key features include:

-   Displaying a sample of sales data.
-   Visualizing daily sales trends with a date range filter.
-   Presenting customer segmentation based on RFM analysis.
-   Showing product performance, including top products by revenue.
-   Integrating a customer churn prediction module.

To run the Streamlit dashboard:

1.  Ensure you have Python and the required libraries installed (see Setup and Installation).
2.  Navigate to the directory containing the `datawh.py` file in your terminal.
3.  Run the command: `streamplit run datawh.py`
